<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estudiante detalle tarea</title>
    <link rel="stylesheet" th:href="@{/css/document_format.css}" href="/application/src/main/resources/static/css/document_format.css" type="text/css">
    <link rel="stylesheet" th:href="@{/css/estudiante_detalle_tarea.css}" href="/application/src/main/resources/static/css/estudiante_detalle_tarea.css" type="text/css">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

</head>
<body>
    <!-- header -->
    <header>
        <div class="header-info">
            <div class="info-logo">
                <div class="logo row">
                    <a th:href="@{/views/estudiantes/home}">
                        <img src="/assets/brand/ico-perfil.png" width="60" height="60" alt="Volver al Menu">
                    </a>
                </div>
            </div>
            <div class="info-social">
                <div class="social-icon-container">
                    <img src="/assets/icons/facebook.svg" alt="">
                </div>
                <div class="social-icon-container">
                    <img src="/assets/icons/twitter.svg" alt="">
                </div>
                <div class="social-icon-container">
                    <img src="/assets/icons/instagram.svg" alt="">
                </div>
            </div>
        </div>
        <div class="header-menu">
            <div class="collapse-icon-container">
                <img src="/assets//icons/three-points-menu.svg" alt="">
            </div>
            <ul th:each="usuario : ${estudiante}">
                <li id="menu-materia">
                    <a th:href="@{/views/estudiantes/materias/} + ${usuario.ci}">
                        Materia
                    </a>
                </li>
                <li id="menu-tarea">Tarea</li>
                <li id="menu-area-personal">Area Personal</li>
            </ul>
        </div>
    </header>

    <!-- main -->
    <main>
        <section class="first-section">
            <h2 class="tittle">Detalle tarea</h2>
            <div class="card-container">
                <div th:each="detalle : ${tareaDetalle}" class="card">
                    <h2 th:text="*{detalle.titulo}" class="card-tittle">card tittle</h2>
                    <div class="card-info">
                        <p th:text="*{detalle.descripcion}"></p>
                        <br>
                        <!-- Icono de Word con la url de descarga del documento -->
                        <div>
                            <img src="/assets/icons/ico_word.png" height="30" width="30">
                            <a th:text="${detalle.documento}" th:href="${detalle.url}" style='color: black'></a>
                        </div>
                        <br>
                        <!-- Hacer una Tabla para mejorar la presentacion -->
                        <div>
                            <p>Fecha de Inicio: </p>
                            <p th:text="*{detalle.fechaInicio}"></p>
                        </div>
                        <br>  
                        <div>
                            <p>Fecha de Entrega: </p>
                            <p th:text="*{detalle.fechaFinal}"></p>
                        </div>                         
                        <!-- -------------------------------------------  -->
                    </div>
                </div>
            </div>
            <!-- Respuesta -->
            <div class="col-6">
                <table th:each="tarearespuesta : ${respuesta}" class="table table-striped">
                    <caption>Tarea Enviada</caption>
                    <tbody>
                        
                        <tr>
                            <th scope="row"></th>
                            <td>Titulo de la Tarea:</td>
                            <td th:text="${tarearespuesta.titulo}"></td>
                        </tr>
                        <tr>
                            <th scope="row"></th>
                            <td>Fecha de Respuesta:</td>
                            <td class="table-success" th:text="*{tarearespuesta.fechaRespuesta}"></td>
                        </tr>
                        <tr>
                            <th scope="row"></th>
                            <td>Archivos Enviados:</td>
                            <td th:if="@{tarearespuesta.url!=null}">
                                <img src="/assets/icons/ico_word.png" height="30" width="30">
                                <a th:text="${tarearespuesta.documento}" th:href="${tarearespuesta.url}"></a>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row"></th>
                            <td>Comentario:</td>
                            <td th:text="*{tarearespuesta.comentario}"></td>
                        </tr>
                        <tr>
                            <th scope="row"></th>
                            <td>Calificaci√≥n:</td>
                            <td th:text="*{tarearespuesta.nota}"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        <!-- Subir Archivo -->
            <div th:if="${respuesta.isEmpty()}" class="form-container text-center">
                <h2 class="form-tittle">Entregar tarea</h2>
                <form method="post" th:action="@{/views/estudiantes/tareas/detalles/upload}" enctype="multipart/form-data" id="fileUploadForm" class="container">
                    <div class="form-group">
                        <label class="custom-file" id="customFile">
                            <input type="file" class="custom-file-input" name="file" aria-describedby="fileHelp">
                            <span class="custom-file-control form-control-file"></span>
                        </label>
                    </div>
                    <div style="margin-bottom: 10px">
                        <button type="submit" class="btn btn-success">Enviar</button>
                    </div>
                </form>
            </div>
        </section>
    </main>

    <!-- footer -->
    <footer>
        <section class="brand-info">
            <div class="social">
                <h3>information</h3>
                <ul class="social-info">
                    <li><a href="#">Contacto: </a></li>
                    <br>
                    <li><a href="#">Correo: </a></li>
                </ul>
                <h3>follow us</h3>
                <ul class="social-icons">
                    <li class="li-facebook"><a href="#"><img src="/assets/icons/facebook.svg" alt="facebook"></a></li>
                    <li class="li-twitter"><a href="#"><img src="/assets/icons/twitter.svg" alt="twitter"></a></li>
                    <li class="li-instagram"><a href="#"><img src="/assets/icons/instagram.svg" alt="instagram"></a></li>
                    <li class="li-github"><a href="#"><img src="/assets/icons/github.svg" alt="github"></a></li>
                </ul>
            </div>
            <div class="logo">
                <img src="/assets/brand/ico-perfil.png" alt="">
            </div>
        </section>
    </footer>


    <!-- header menu event -->
    <script>
        document.addEventListener("click", (e) => {
            if (e.target.matches(".collapse-icon-container") || e.target.matches(".collapse-icon-container img")) {
                document.querySelector(".header-menu").classList.toggle("on-view");
            }
        });
    </script>
    <script>
        $('.custom-file-input').on('change',function(){
            $(this).next('.form-control-file').addClass("selected").html($(this).val());
        })
    </script>
</body>
</html>